# mlb-elo-advantage

### Latest predictions
See the live table generated by this repo: [Latest Daily Predictions](https://grdavis.github.io/mlb-elo-advantage/)

## Overview
This project revives a streamlined version of FiveThirtyEight’s MLB Elo model (538 discontinued in 2023) and continues ratings forward using daily game results and betting markets.

- Uses an Elo engine inspired by public descriptions from Baseball Prospectus and FiveThirtyEight.
- Scrapes a “golden” schedule and results from Baseball Reference and enriches with moneyline/total odds from ScoresAndOdds.
- Produces daily game win probabilities, value thresholds relative to market odds, and publishes markdown tables to GitHub Pages.
- Simulates the rest of the season and playoffs to estimate postseason probabilities for each team.

Special thanks to the data sources:
- Baseball Reference (schedule/results): https://www.baseball-reference.com/
- ScoresAndOdds (odds): https://www.scoresandodds.com/mlb

References describing the approach:
- Baseball Prospectus overview of Elo: https://www.baseballprospectus.com/news/article/5247/lies-damned-lies-we-are-elo/
- FiveThirtyEight MLB model explainer: https://fivethirtyeight.com/features/how-our-2016-mlb-predictions-work/

## Features
- Elo engine with season carry-over and playoff adjustments
- Daily scrape-and-merge pipeline for schedule, results, and odds
- Win probability and “advantage” signals versus market odds
- Backtesting utilities for threshold selection and parameter tuning
- Playoff bracket simulation and team advancement probabilities
- Automated publishing of predictions and ratings to `docs/index.md`

## Quickstart
Prereqs: Python 3.9+ recommended

```bash
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\\Scripts\\activate
pip install -r requirements.txt

# Run the daily pipeline (scrapes latest data, computes Elo, writes outputs & docs)
python predictions.py
```

Outputs:
- CSV table: `OUTPUTS/Game Predictions Based on Ratings through YYYY-MM-DD.csv`
- Markdown for GitHub Pages: `docs/index.md`
- Most recent scraped dataset: `DATA/game_log_YYYY-MM-DD.csv`